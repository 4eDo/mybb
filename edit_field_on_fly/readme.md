# Скрипт для изменения баланса игрока прямо со страницы банка
> **NB! В сообщении не сохраняется никакой отметки о том, что произведено начисление или списание. Выводимая информация носит справочный характер и пропадает после обновления страницы.**

## Инструкция:
### 1. Скопировать всё из файла `edit_field_on_fly.min.html`
Скрипт там лежит в сжатом виде. Это позволяет не отвлекаться на ненужные для вас строки. Если хочется что-то поменять под себя - пожалуйста. Файл `edit_field_on_fly.html` содержит весь код.

### 2. Администрирование -> Формы
Код вставляется в html-низ. **РЕКОМЕНДУЮ** вставлять в HTML низ (тестовый), но можно и в основной. Тестовый хорош тем, что по умолчанию будет грузиться только у администраторов (опционально - и у модераторов).

### Изменение параметров
Параметры, которые вы можете настраивать:
- `const FIELD_ID_FOR_EDIT = "fld1";` - идентификатор поля, в котором хранится ваш кошелёк. Не забудьте fld и не сотрите кавычки.

- `const ADD_CACHE_TEXT = "Изменение баланса";` - текст на кнопке в банке. Она будет видна только вам.

- `const COLOR_INPUT_TEXT = "color: #000000 !important";` - на некоторых форумах дизайнеры играются со стилями так, что цвет текста в полях input нечитаем. Это исправляет недочёт. Но если ваш дизайнер - умничка и солнышко, тщательно прописывающее все селекторы, то можно оставить `const COLOR_INPUT_TEXT = "";`

- `const ALLOWED_TOPICS = ['1', '2', '3']; // С кавычками` - это идентификаторы ТЕМ, в которых будет доступна кнопка изменения баланса. Не забывайте вокруг идентификатора писать кавычки!

- `const ALLOWED_GROUPS = [1]; // БЕЗ кавычек` - проверка, кому можно этим пользоваться. Группа 1 - администроторы, 2 - модераторы. Чтобы разрешить администраторам и модераторам, напишите `const ALLOWED_GROUPS = [1, 2];` Кавычки вокруг номера группы не нужны

### Тестирование
В теме банка создайте с тестового аккаунта какое-нибудь сообщение. На нём тестируете. Не стоит проверять на живых профилях, потому что в случае ошибки вы можете не вспомнить, что и как было.
